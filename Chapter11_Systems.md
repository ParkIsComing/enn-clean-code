# Chapter 11. 시스템
높은 추상화 수준, 즉 시스템 수준에서도 꺠끗함을 유지하는 방법

## 시스템 제작과 시스템 사용을 분리하라
>제작은 사용과 아주 다르다.
즉 소프트웨어 시스템은 애플리케이션 객체를 제작하고 의존성을 서로 연결하는 준비 과정과 준비과정 이후에 이어지는 런타임 로직을 분리해야 한다.

### 체계적이고 탄탄한 시스템을 만들고 싶다면 모듈성을 깨서는 절대로 안된다.
1. Main 분리
- 시스템 생성과 시스템 사용을 분리하는 한가지 방법
- 생성과 관련한 코드는 모두 main이나 main이 호출하는 모듈로 옮기고, 나머지 시스템은 모든 객체가 생성되었고 모든 의존성이 연결되었다고 가정함

2. 팩토리
- 객체가 생성되는 시점을 애플리케이션이 결정할 필요가 생김
- 이때는 ABSTRACT FACTORY 패턴을 사용
- 그러면 객체가 생성되는 시점은 애플리케이션이 결정하지만 객체를 생성하는 코드는 애플리케이션이 알 수 없음

3. 의존성 주입
- 사용과 제작을 분리하는 강력한 메커니즘
- 제어 역전 기법을 의존성 관리에 적용한 메커니즘
- 제어 역전 : 한 객체가 맡은 보조 책임을 새로운 객체에게 전적으로 떠넘김, 이때 새로운 객체는 넘겨받은 책임만 맡으므로 단일 책임 원칙을 지키게 됨
- 이처럼 의존성 관리 맥락에서 객체는 의존성 자체를 인스턴스로 만드는 책임을 지지 않고, 이런 책임을 다른 전담 메커니즘에 넘김

## 확장
>소프트웨어 시스템은 물리적인 시스템과 다르다, 관심사를 적절히 분리해 관리한다면 소프트웨어 아키텍처는 점진적으로 발전할 수 있다.

이때, 테스트 주도 개발(TDD), 리팩터링, 그리고 이를 통해 얻어지는 깨끗한 코드는 코드 수준에서 시스템을 조정하고 확장하기 쉽게 만든다.

## 그 외에 관심사를 관점으로 분리하는 도구들
- 자바 프록시
- 순수 자바 AOP 프레임 워크
- AspectJ 관점
- 테스트 주도 시스엠 아키텍처 구축
- 의사 결정 최적화
- 명백한 가치가 있을 때 표준을 현명하게 사용
- 시스템에 도메인 특화 언어 사용
